---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  image: ImageMetadata;
  alt: string;
  formats?: string[];
}

const { image, alt, formats = ['avif', 'webp'] } = Astro.props;
---

<figure>
  <Picture
    src={image}
    alt={alt}
    formats={formats}
    data-pagefind-index-attrs="alt"
  />
  <figcaption><slot /></figcaption>
</figure>

<style>
  figure {
    margin-bottom: 1rem;
  }
  figcaption {
    font-size: 0.8rem;
    font-style: italic;
  }
</style>
